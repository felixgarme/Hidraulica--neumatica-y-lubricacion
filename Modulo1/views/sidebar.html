<ul id="menu">
    <li class="menu-item">
        <button class="dropdown-btn" data-level="1">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" 
                viewBox="0 -960 960 960" width="24px" fill="#000">
                <path
                    d="M340-540H200q-33 0-56.5-23.5T120-620v-140q0-33 
                    23.5-56.5T200-840h140q33 0 56.5 23.5T420-760v140q0 
                    33-23.5 56.5T340-540Zm-140-80h140v-140H200v140Zm140 
                    500H200q-33 0-56.5-23.5T120-200v-140q0-33 
                    23.5-56.5T200-420h140q33 0 56.5 23.5T420-340v140q0 
                    33-23.5 56.5T340-120Zm-140-80h140v-140H200v140Zm560-340H620q-33 
                    0-56.5-23.5T540-620v-140q0-33 23.5-56.5T620-840h140q33 
                    0 56.5 23.5T840-760v140q0 33-23.5 56.5T760-540Zm-140-80h140v-140H620v140Zm140 
                    500H620q-33 0-56.5-23.5T540-200v-140q0-33 
                    23.5-56.5T620-420h140q33 0 56.5 23.5T840-340v140q0 
                    33-23.5 56.5T760-120Zm-140-80h140v-140H620v140Z" />
            </svg>
            <span><strong>Contenido del Curso</strong></span>
        </button>

        <ul class="sub-menu">
            <li class="menu-item">
                <a href="../../index.html" class="menu-link" id="desplegable">
                    Bienvenida
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/M1/M1_inicio.html" class="menu-link" id="desplegable">
                    <h4>1</h4> Actuadores Hidráulicos
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/M2/M2_inicio.html" class="menu-link" id="desplegable">
                    <h4>2</h4> Válvulas Direccionales
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/M3/M3_inicio.html" class="menu-link" id="desplegable">
                    <h4>3</h4> Circuitos Hidráulicos
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/M4/M4_inicio.html" class="menu-link" id="desplegable">
                    <h4>4</h4> Mantenimiento
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/M5/M5_inicio.html" class="menu-link" id="desplegable">
                    <h4>5</h4> Equipos y Sistemas
                </a>
            </li>

            <li class="menu-item">
                <a href="../../views/conclusiones.html" class="menu-link" id="desplegable">
                    Conclusiones
                </a>
            </li>
        </ul>
    </li>
</ul>

<script>
document.querySelectorAll('#menu a.menu-link').forEach(link => {
    link.addEventListener('click', function (e) {
        e.preventDefault();
        const url = this.getAttribute('href');
        
        fetch(url, { method: 'HEAD' })
            .then(res => {
                if (res.ok) {
                    window.location.href = url;
                } else {
                    window.location.href = '../../../menu_principal/error.html';
                }
            })
            .catch(() => {
                window.location.href = '../../../menu_principal/error.html';
            });
    });
});
</script>