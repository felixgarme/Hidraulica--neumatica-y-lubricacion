<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actuadores Hidráulicos</title>
    <style>
    /* ==== CONFIGURACIÓN BASE PARA IFRAME ==== */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      background-color: transparent; /* Fondo transparente para integración */
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      box-sizing: border-box;

    }

    body {
        padding: 10px; /* Pequeño espacio para que el contenido no toque los bordes del iframe */
        
    }

    /* ==== CONTENEDOR PRINCIPAL DEL CARRUSEL ==== */
    .carousel-container {
      width: 100%;
      height: 100%;
      background: #FFFFFF ;
      border-radius: 12px;
      /* box-shadow: 0 6px 30px rgba(0, 50, 150, 0.1); */
      overflow: hidden;
      border: 1px solid #E0E8F2;
      display: flex;
      flex-direction: column;
    }

    .carousel-wrapper {
      position: relative;
      overflow: hidden;
      flex: 1; /* Permite que el contenido ocupe el espacio vertical disponible */
    }

    .carousel-track {
      display: flex;
      transition: transform 0.5s ease-in-out;
      height: 100%;
    }

    /* ==== ESTILO DE CADA DIAPOSITIVA ==== */
    .carousel-slide {
      min-width: 100%;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      padding: 30px;
      box-sizing: border-box;
      gap: 30px;
      text-align: left;
    }

    .slide-image {
      flex-shrink: 0;
      width: 45%;
      max-width: 450px; /* Límite para pantallas muy grandes */
      height: auto; /* Altura automática para mantener la proporción */
      object-fit: contain;
      border-radius: 10px;
      background: #F8F9FA;
      padding: 10px;
      border: 1px solid #E0E8F2;
    }

    .slide-text {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 15px;
      max-width: 550px;
    }

    .slide-title {
      color: #031794;
      font-size: clamp(22px, 3vw, 28px); /* Tipografía fluida */
      font-weight: 700;
      margin: 0;
      line-height: 1.2;
    }

    .slide-content {
      color: #333;
      font-size: clamp(16px, 2vw, 18px);
      line-height: 1.6;
      background: #F8F9FA;
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #E0E8F2;
    }

    /* ==== CONTROLES DE NAVEGACIÓN ==== */
    .carousel-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
      gap: 15px;
      background: #FFFFFF;
      border-top: 1px solid #E0E8F2;
    }

    .carousel-btn {
      background: linear-gradient(135deg, #031794 0%, #2A5BDF 100%);
      color: #FFFFFF;
      border: none;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: all 0.3s ease;
      font-weight: bold;
    }

    .carousel-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 15px rgba(42, 91, 223, 0.4);
    }

    .carousel-btn:disabled {
      background: #D0D0D0;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .carousel-indicators {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .indicator {
      width: 11px;
      height: 11px;
      border-radius: 50%;
      background: #C0C8D4;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: #031794;
      transform: scale(1.2);
    }

    .slide-counter {
      color: #555;
      font-size: 14px;
      font-weight: 500;
      min-width: 50px;
      text-align: center;
    }

    /* ==== BARRA DE PROGRESO ==== */
    .progress-bar {
      width: 100%;
      height: 5px;
      background: #E0E8F2;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #031794 0%, #2A5BDF 100%);
      border-radius: 0 2px 2px 0;
      transition: width 0.5s ease;
    }

    /* ==== AJUSTES RESPONSIVOS ==== */
    @media (max-width: 768px) {
      body {
        padding: 0; /* Sin padding en móviles para aprovechar el espacio */
      }
      .carousel-container {
        border-radius: 0;
        border: none;
      }
      .carousel-slide {
        flex-direction: column;
        text-align: center;
        padding: 20px;
        gap: 15px;
      }
      .slide-image {
        width: 100%;
        max-width: 300px; /* Límite para la imagen en vista vertical */
      }
      .carousel-controls {
        padding: 12px;
      }
      .carousel-btn {
        width: 44px;
        height: 44px;
      }
    }
    </style>
</head>
<body>
    <div class="carousel-container">
      <div class="carousel-wrapper">
        <div class="carousel-track" id="carouselTrack">

          <div class="carousel-slide">
            <img src="../../../assets/images/M1/a.png" alt="Actuadores Hidráulicos Lineales" class="slide-image">
            <div class="slide-text">
              <h2 class="slide-title">Actuadores Hidráulicos Lineales</h2>
              <div class="slide-content">
                Al igual que los neumáticos, se clasifican en dos grandes grupos: <b>cilindros de simple efecto</b>, que realizan trabajo en un solo sentido, y <b>cilindros de doble efecto</b>, que pueden generar fuerza tanto en el avance como en el retroceso.
              </div>
            </div>
          </div>

          <div class="carousel-slide">
            <img src="../../../assets/images/M1/b.png" alt="Cilindro de Simple Efecto" class="slide-image">
            <div class="slide-text">
              <h2 class="slide-title">Actuadores de Simple Efecto</h2>
              <div class="slide-content">
                Poseen una sola entrada de aceite (cámara de inyección) y, por lo tanto, están diseñados para realizar trabajo en una única dirección. El retorno a la posición inicial no se realiza por presión de aceite.
              </div>
            </div>
          </div>

          <div class="carousel-slide">
            <video src="../../../assets/media/M1/a.mp4" class="slide-image" autoplay muted loop playsinline alt="Retorno por Carga Externa"></video>
            <div class="slide-text">
              <h2 class="slide-title">Retorno y Aplicaciones del Simple Efecto</h2>
              <div class="slide-content">
                A diferencia de la neumática donde se usan resortes internos, en hidráulica es común que el retorno se produzca por una <b>carga externa</b>. Un ejemplo claro son los sistemas de elevación, donde el propio peso de la carga hace que el cilindro retorne por gravedad.
              </div>
            </div>
          </div>

          <div class="carousel-slide">
            <video src="../../../assets/media/M1/b.mp4" class="slide-image" autoplay muted loop playsinline alt="Retorno por Carga Externa"></video>
            <div class="slide-text">
              <h2 class="slide-title">Actuadores de Doble Efecto</h2>
              <div class="slide-content">
                Son el estándar en la industria. Cuentan con dos entradas de aceite, lo que les permite realizar trabajo tanto en la carrera de <b>salida (avance)</b> como en la de <b>retroceso</b> mediante la presión del fluido en ambas cámaras.
              </div>
            </div>
          </div>
          
          <div class="carousel-slide">
            <video src="../../../assets/media/M1/c.mp4" class="slide-image" autoplay muted loop playsinline alt="Retorno por Carga Externa"></video>
            <div class="slide-text">
              <h2 class="slide-title">Características Comunes</h2>
              <div class="slide-content">
                Tanto en hidráulica como en neumática, los actuadores de doble efecto comparten componentes básicos y problemas similares, como deficiencias de fuerza o velocidad. Para corregirlos, se aplican técnicas parecidas, como el uso de un cilindro con <b>doble vástago</b>.
              </div>
            </div>
          </div>
          
          <div class="carousel-slide">
            <video src="../../../assets/media/M1/c.mp4" alt="Simbología de Actuadores" class="slide-image" autoplay muted loop playsinline></video>
            <div class="slide-text">
              <h2 class="slide-title">Simbología en Planos</h2>
              <div class="slide-content">
              La simbología gráfica apenas varía entre neumática e hidráulica. En los planos, los cilindros se representan de forma idéntica, y la diferencia se establece por la <b>fuente de energía</b> del sistema: una red neumática o una central hidráulica.
              </div>
            </div>
          </div>

          <div class="carousel-slide">
            <img src="../../../assets/images/M1/c.png" alt="Cilindro de Simple Efecto" class="slide-image">
            <div class="slide-text">
              <h2 class="slide-title">Actuadores de Simple Efecto</h2>
              <div class="slide-content">
                Poseen una sola entrada de aceite (cámara de inyección) y, por lo tanto, están diseñados para realizar trabajo en una única dirección. El retorno a la posición inicial no se realiza por presión de aceite.
              </div>
            </div>
          </div>


        </div>
      </div>

      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>

      <div class="carousel-controls">
        <button class="carousel-btn" id="prevBtn" title="Anterior">‹</button>
        <div class="carousel-indicators" id="indicators"></div>
        <div class="slide-counter">
          <span id="currentSlide">1</span> / <span id="totalSlides">6</span>
        </div>
        <button class="carousel-btn" id="nextBtn" title="Siguiente">›</button>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        let currentSlideIndex = 0;
        const track = document.getElementById('carouselTrack');
        const slides = Array.from(track.children);
        const totalSlides = slides.length;
        const nextButton = document.getElementById('nextBtn');
        const prevButton = document.getElementById('prevBtn');
        const currentSlideSpan = document.getElementById('currentSlide');
        const totalSlidesSpan = document.getElementById('totalSlides');
        const indicatorsContainer = document.getElementById('indicators');
        const progressFill = document.getElementById('progressFill');

        function updateCarousel() {
          track.style.transform = 'translateX(-' + currentSlideIndex * 100 + '%)';
          currentSlideSpan.textContent = currentSlideIndex + 1;
          
          prevButton.disabled = currentSlideIndex === 0;
          nextButton.disabled = currentSlideIndex === totalSlides - 1;
          
          // --- INICIO DE LA MODIFICACIÓN ---
          // Comprueba si el carrusel está en la última diapositiva
          if (currentSlideIndex === totalSlides - 1) {
            console.log("carrucel-terminado");
            window.parent.postMessage("carrucel-terminado", "*");
          }
          // --- FIN DE LA MODIFICACIÓN ---

          Array.from(indicatorsContainer.children).forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentSlideIndex);
          });

          const progressPercentage = (currentSlideIndex / (totalSlides - 1)) * 100;
          progressFill.style.width = progressPercentage + '%';
        }

        function nextSlide() {
          if (currentSlideIndex < totalSlides - 1) {
            currentSlideIndex++;
            updateCarousel();
          }
        }

        function previousSlide() {
          if (currentSlideIndex > 0) {
            currentSlideIndex--;
            updateCarousel();
          }
        }

        function goToSlide(index) {
          currentSlideIndex = index;
          updateCarousel();
        }

        function init() {
          if (!track) return;
          
          totalSlidesSpan.textContent = totalSlides;
          
          nextButton.addEventListener('click', nextSlide);
          prevButton.addEventListener('click', previousSlide);
          
          indicatorsContainer.innerHTML = '';
          for (let i = 0; i < totalSlides; i++) {
            const indicator = document.createElement('div');
            indicator.classList.add('indicator');
            indicator.addEventListener('click', () => goToSlide(i));
            indicatorsContainer.appendChild(indicator);
          }
          
          let touchstartX = 0;
          let touchendX = 0;

          track.addEventListener('touchstart', function(event) {
              touchstartX = event.changedTouches[0].screenX;
          }, false);

          track.addEventListener('touchend', function(event) {
              touchendX = event.changedTouches[0].screenX;
              handleSwipe();
          }, false);

          function handleSwipe() {
              if (touchendX < touchstartX - 50) { // Umbral de 50px
                  nextSlide();
              }
              if (touchendX > touchstartX + 50) { // Umbral de 50px
                  previousSlide();
              }
          }

          updateCarousel();
        }
        
        init();
      });
    </script>
</body>
</html>